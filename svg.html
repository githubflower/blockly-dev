<!DOCTYPE html>
<html>
<head>
	<title>svg</title>
	<style>
		html, body, #content{
			height: 100%;
		}

		.text{
			font-size: 64px;
			font-weight: bold;
			text-transform: uppercase;
			fill: none;
			stroke: #3498db;
			stroke-width: 2px;
			/* stroke-dasharray: 90 310; */
			animation: stroke 6s infinite linear;
		}
		@keyframes stroke {
		/* 	100% {
				stroke-dashoffset: -400;
			} */
			/* 0% {
				width: 0;
			} */
			100% {
				width: 120;
			}
		}
		.connectGuideSvg{
			/*fill: url(#orange_red);*/
			/*fill: green;
			stroke: #222;*/
		}
		.blocklyPath{
			stroke-width: 4px;
		}
	</style>
</head>
<body>
	<p>#0c9cb7 #f2631f #95ca34 #564895 #2abeda</p>
	<!-- <path class="blocklyPathDark" transform="translate(1,1)" fill="#495284"></path><path class="blocklyPath" stroke="none" fill="#5b67a5"></path><path class="blocklyPathLight" stroke="#8c95c0"></path><g><text class="blocklyText" y="12.5" x="0">set&nbsp;FirstName&nbsp;to</text></g><g class="blocklyEditableText" style="cursor: default;"><rect rx="4" ry="4" x="0" y="0" height="16" width="99.08372497558594"></rect><text class="blocklyText" y="12.5" x="5" text-anchor="start">First&nbsp;Name<tspan style="fill: rgb(91, 103, 165);"> ▾</tspan></text><image y="5" style="display: none;"></image></g><g><text class="blocklyText" y="12.5" x="0">set&nbsp;LastName&nbsp;to</text></g><g class="blocklyEditableText" style="cursor: default;"><rect rx="4" ry="4" x="0" y="0" height="16" width="97.42303466796875"></rect><text class="blocklyText" y="12.5" x="5" text-anchor="start">Last&nbsp;Name<tspan style="fill: rgb(91, 103, 165);"> ▾</tspan></text><image y="5" style="display: none;"></image></g> -->
	<input type="button" name="move" value="move" id="btn"/>
	
	<div id="content">
		<svg version="1.1" id="svg">
			<defs>
				<linearGradient id="gradient-green" x1="50%" y1="0%" x2="50%" y2="100%">
					<stop offset="0%" style="stop-color: #4B9D15; stop-opacity:1"/>
					<stop offset="100%" style="stop-color: #7CD426; stop-opacity:1"/>
				</linearGradient>
			</defs>
			<defs>
				<filter id="shadow-offset-grey" x="0" y="0" width="200%" height="200%">
					<!-- <feOffset result="offOut" in="SourceAlpha" dx="5" dy="5" /> -->
					<feOffset result="offOut" in="SourceGraphic" dx="5" dy="5" />
					<feGaussianBlur result="blurOut" in="offOut" stdDeviation="5" />
					<feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
				</filter>
				<filter id="shadow-grey" x="0" y="0" width="200%" height="200%">
					<!-- <feOffset result="offOut" in="SourceAlpha" dx="5" dy="5" /> -->
					<!-- <feOffset result="offOut" in="SourceGraphic" dx="5" dy="5" /> -->
					<feGaussianBlur result="blurOut" in="offOut" stdDeviation="5" />
					<feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
				</filter>
			</defs>
			
			<rect class="connectGuideSvg" x="0" y="0" rx="20" width="100" height="40" stroke="#fff" fill="url(#gradient-green)" filter="url(#shadow-offset-grey)"></rect>
			<text></text>

			<path class="blocklyPath" stroke="#1a8afe"  fill="#1a8afe" filter="url(#shadow-grey)" d=" m 200,0  v 50 m 0 0 m 0 -8l -5 0 l 5 8 l 5 -8 l -5 0 z "></path>
		</svg>


		<svg width="600" height="600">
			<filter id="inset-shadow" x="-50%" y="-50%" width="200%" height="200%">
				<feComponentTransfer in=SourceAlpha>
					<feFuncA type="table" tableValues="1 0" />
				</feComponentTransfer>
				<feGaussianBlur stdDeviation="4" />
				<feOffset dx="0" dy="1" result="offsetblur" />
				<feFlood flood-color="#0d619d" result="color" />
				<feComposite in2="offsetblur" operator="in" />
				<feComposite in2="SourceAlpha" operator="in" />
				<feMerge>
					<feMergeNode in="SourceGraphic" />
					<feMergeNode />
				</feMerge>
			</filter>
			<rect x=100 y=100 width=20% height=50% fill=#0a112b filter="url(#inset-shadow)" />
		</svg>

		<svg width="100%" height="100">
			<text text-anchor="middle" x="50%" y="50%" class="text">
				segmentfault.com
			</text>
		</svg>
	</div>
	<script type="text/javascript" src="./jquery-3.4.1.min.js"></script>

	<script type="text/javascript">
		jQuery(function(){

			const createNode = (fixedstr, tag, attrs)=>{
				let nodeObj = document.createElementNS(fixedstr, tag);
				Object.keys(attrs).forEach((key)=>{
					nodeObj.setAttributeNS(fixedstr, key, attrs[key]);
				})
				return nodeObj;
			}

			let textNode = document.getElementById('TextElement');

			let animationCfg = {
				path: 'M 0 0 L 100 100',
				dur: '5s',
				fill: 'freeze'
			};
			// let animationNode = createNode('animateMotion', animationCfg)

			let animateNode = createNode("http://www.w3.org/2000/svg", 'animate', {
				attributeType: "XML",
				attributeName: "width",
				from: "0",
				to: "120",
				dur: "0.2s",
				repeatCount: "1"
			});


			let btn = document.getElementById('btn');
			btn.onclick = ()=>{
				/* textNode.appendChild(animationNode);
				let newSvg = document.getElementById('svg');
				let divNode = document.getElementById('content');
				var animateMotion = document.createElementNS("http://www.w3.org/2000/svg", "animateMotion")
				Object.keys(animationCfg).forEach(k => {
					animateMotion.setAttribute(k, animationCfg[k]);
				}) */

				jQuery('#TextElement').append(animateNode);
				jQuery('#content').html(jQuery('#content').html());
			}
		})

	</script>
</body>
</html>


